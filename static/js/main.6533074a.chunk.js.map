{"version":3,"sources":["components/Login.jsx","firebase.js","components/Table.jsx","components/FileUpload.jsx","api/bookapi.js","api/utils.js","components/AddTab.jsx","components/Main.jsx","components/SideMenu.jsx","App.jsx","index.js"],"names":["Paragraph","Typography","Text","Title","LoginForm","styled","Card","Login","onLogin","useState","error","setError","valid","setValidation","login","bind","tooltip","bordered","align","direction","size","placement","content","className","onFinish","Item","name","onChange","target","value","length","Password","prefix","LockOutlined","disabled","htmlType","type","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","app","initializeApp","this","auth","db","database","currentUser","email","password","signInWithEmailAndPassword","signOut","bookData","console","log","ref","userId","set","books","stringFilter","record","author","startsWith","DataTable","data","columns","title","dataIndex","onFilter","dataSource","Component","div","currentYear","Date","getFullYear","yearRange","Array","from","_","i","year","Option","key","FieldData","file","updateYear","FileUpload","isLoading","onUpload","testData","fileData","setFileData","UploadOutlined","id","multiple","e","fileList","files","find","f","push","concat","renderItem","allowClear","DeleteTwoTone","onClick","filter","item","removeFile","LoadingOutlined","spin","style","color","Object","keys","headers","secret","get","url","args","axios","params","then","res","err","BookApi","search","query","cat","q","xmlToJson","xml","obj","nodeType","attributes","j","attribute","nodeName","nodeValue","textNodes","slice","call","childNodes","node","hasChildNodes","reduce","text","old","ListItem","rating","label","src","globalTimeout","tempList","AddForm","onSubmit","currentSearch","updateSearch","results","updateResults","selectedItems","selectItems","makeListItem","object","best_book","small_image_url","average_rating","original_publication_year","labelYear","nil","a","BookAPI","DOMParser","parseFromString","items","GoodreadsResponse","work","map","unselectItem","val","useEffect","clearTimeout","setTimeout","fetchData","open","options","onSelect","includes","updated","notFoundContent","Search","placeholder","closable","onClose","TabPane","Tabs","Page","ActionButton","action","icon","shape","Main","pageState","setPageState","editing","updateEditingState","updatePageState","position","activeKey","animate","editable","itemsToAdd","firebase","add","SideMenuButton","SideMenu","onLogout","isOpen","openPanel","togglePanel","theme","overlay","trigger","UserOutlined","width","visible","pageContent","Content","pages","Navbar","setPage","Header","mode","pid","App","isAuthorized","setAuth","currentPage","updatePage","handleAuthChange","logout","message","Footer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6533074a.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Card, Form, Input, Popover, Space, Typography } from 'antd';\nimport { LockOutlined } from '@ant-design/icons';\nimport styled from 'styled-components';\nconst { Paragraph, Text, Title } = Typography;\n\nconst LoginForm = styled(Card)`\n    border-radius: 10px;\n    text-align: center;\n\n    .tooltip {\n        color: blue;\n        cursor: pointer;\n    }\n`;\n\nfunction Login({ onLogin }) {\n  const [error, setError] = useState('');\n  const [valid, setValidation] = useState(false);\n  const login = onLogin.bind(setError);\n  \n  const update = ({ target: { value } }) => {\n    if (value.length) {\n      setValidation(true);\n    }\n    setError('');\n  }\n\n  const tooltip = <Paragraph>Hello</Paragraph>\n\n  return (\n    <LoginForm bordered={false}>\n      <Space align=\"center\" direction=\"vertical\" size=\"middle\">\n        <Title>Welcome</Title>\n        <br />\n        <Paragraph>\n          This app was designed for\n            <Popover placement=\"top\" content={tooltip}>\n                <Text className=\"tooltip\"> Seth</Text>\n            </Popover>\n         </Paragraph>\n        <Text>If this isn't you, feel free to click away.</Text>\n        <Form onFinish={login}>\n          <Form.Item name=\"password\" onChange={update}>\n            <Input.Password prefix={<LockOutlined />} />\n          </Form.Item>\n          <Form.Item>\n            <Button disabled={!valid} htmlType=\"submit\">Enter</Button>\n          </Form.Item>\n        </Form>\n        <Paragraph type=\"danger\">{error}</Paragraph>\n      </Space>\n    </LoginForm>\n  )\n}\n\nexport default Login;\n\n","\nimport app from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nconst config = {\n  apiKey: process.env.REACT_APP_KEY,\n  authDomain: `${process.env.REACT_APP_PROJECT_ID}.firebaseapp.com`,\n  databaseURL: `https://${process.env.REACT_APP_PROJECT_ID}.firebaseio.com`,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: `${process.env.REACT_APP_PROJECT_ID}.appspot.com`\n};\n\nclass Firebase {\n    constructor() {\n        app.initializeApp(config);\n        this.auth = app.auth();\n        this.db = app.database();\n    }\n\n    isAuthorized() {\n        const user = this.auth.currentUser;\n        return user || false;\n    }\n\n    login(email, password) {\n        return this.auth.signInWithEmailAndPassword(email, password);\n    }\n\n    logout() {\n        return this.auth.signOut();\n    }\n\n    add(bookData) {\n        console.log(bookData);\n        return this.db.ref('/data/' + this.auth.currentUser.userId).set({\n            books: bookData\n        })\n    }\n}\n\nexport default new Firebase;\n\n\n\n\n\n\n\n","import React, { useState, useEffect } from 'react';\nimport { Table } from 'antd';\nimport styled from 'styled-components';\nimport firebase from '../firebase';\nimport d3 from 'd3';\n\nconst stringFilter = (value, record) => record.author.startsWith(value);\n\nfunction DataTable({data}) {\n    const columns = [\n        { \n            title: 'Author',\n            dataIndex: 'author',\n            onFilter: stringFilter\n        },\n        {\n            title: 'Title',\n            dataIndex: 'title',\n            onFilter: stringFilter\n        },\n        { \n            title: 'Genre',\n            dataIndex: 'genre'\n        },\n        {\n            title: 'Year Last Read',\n            dataIndex: 'last-year'\n        }   \n    ]\n    return (\n        <Table dataSource={data} columns={columns}></Table>\n    )\n};\n\nexport default DataTable;","import React, { useState, useEffect } from 'react';\nimport { Button, Divider, List, Row, Select } from 'antd';\nimport { DeleteTwoTone, LoadingOutlined, UploadOutlined } from '@ant-design/icons';\nimport styled from 'styled-components';\n\nconst Component = styled.div`\n    background-color: white;\n    width: 50%;\n\n    input {\n        display: none;\n    }\n\n    .year-select {\n        min-width: 25%;\n    }\n\n    .year-select * {\n        cursor: pointer;\n    }\n`;\n\nconst currentYear = new Date().getFullYear();\nconst yearRange = Array.from({ length: 50 }, (_, i) => {\n    const year = currentYear - i;\n    return (\n        <Select.Option key={year} value={year}>\n            {year}\n        </Select.Option>\n    )\n});\n\nclass FieldData {\n    constructor(file) {\n        this.data = file;\n        this.name = file.name;\n        this.updateYear = this.updateYear.bind(this);\n    }\n\n    updateYear(year) {\n        this.year = year;\n    }\n}\n\nfunction FileUpload({ isLoading, onUpload, testData }) {\n    const [data, setData] = useState();\n    const [loading, loadingStatus] = useState(false);\n  \n    /*\n    async function fileUpload(files) {\n        loadingStatus(true);\n        try {\n        const res = uploadFiles(files);\n        setData(res);\n        } catch(err) {\n        console.log(err);\n        setData({error: \"blah\"});\n        }\n    \n        \n    }\n    \n\n  useEffect(() => {\n    if (data) {\n      loadingStatus(false);\n    }\n  }, [data]);\n\n  const error = data && data.error;\n  */\n    const [fileData, setFileData] = useState([]);\n    const selectFiles = e => {\n        let fileList = [];\n        for (const file of e.target.files) {\n            const data = new FieldData(file);\n            if (!fileData.find(f => f === data)){\n                fileList.push(data);\n            }\n        }\n        setFileData(fileData.concat(fileList));\n    }\n    \n    const removeFile = file => {\n        setFileData(fileData.filter(item => item !== file));\n    }\n\n    const submit = () => onUpload(fileData);\n\n    return (\n        <Component>\n            \n            <label className=\"ant-btn\">\n                <UploadOutlined />\n                Select File(s)\n                <input id=\"file-upload\" multiple onChange={selectFiles} type=\"file\"/> \n            </label>\n            <List\n                dataSource={fileData}\n                renderItem={file =>\n                    <Row align=\"middle\">\n                        <p>{file.name}</p>\n                        <Select allowClear className=\"year-select\" onChange={file.updateYear} value={file.year}>\n                            {yearRange}\n                        </Select>\n                        <DeleteTwoTone onClick={() => removeFile(file)}/>\n                    </Row>\n                }\n            />\n            <Button disabled={!fileData.length} onClick={submit}>Upload</Button>\n            <br/>\n            <br/>\n            {isLoading && <LoadingOutlined spin style={{ color: 'black' }}/>}\n            {testData &&\n            (<List\n                dataSource={Object.keys(testData)}\n                renderItem={year =>\n                    <>\n                        <Divider>{year || \"None\"}</Divider>\n                        <List\n                            dataSource={testData[year]}\n                            renderItem={item => \n                                <p>{item}</p>\n                            }\n                        />\n                    </>\n                }\n                />)\n            }\n        </Component>\n    );\n}\n\nexport default FileUpload;","import axios from 'axios';\n\nconst base = 'https://cors-anywhere.herokuapp.com/https://goodreads.com/';\nconst headers = {\n    'Access-Control-Allow-Origin': 'http://localhost:3000',\n};\nconst auth = {\n    key: `${process.env.REACT_APP_GOODREADS_KEY}`,\n    secret: `${process.env.REACT_APP_GOODREADS_SECRET}`\n};\n\n\nfunction get(url, args) {\n    return axios.get(base + url, \n        {\n          params: { key: auth.key, ...args},\n          headers: headers\n        }\n    )\n    .then(res => res.data)\n    .then(err => err);\n}\n\nfunction search(query, cat=\"title\") {\n    return get(this, { q: query, search: cat });\n};\n\nconst BookApi = {\n    search: search.bind('search/')\n}\n\nexport default BookApi;","const CHARS = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-';\n\nexport async function uploadFiles1(files) {\n  const data = new FormData();\n  for (let i = 0; i < files.length; i++) {\n    data.append('file', files[i].data)\n    data.append('years', files[i].year || 0);\n  }\n}\n\nfunction readFile(file) {\n  const reader = new FileReader();\n  reader.onload = function (e) {\n    console.log(e.target.result);\n  }\n  reader.readAsText(file);\n}\n\nexport function xmlToJson(xml) {\n  var obj = {};\n  if (xml.nodeType == 1) {\n    if (xml.attributes.length > 0) {\n      obj[\"@attributes\"] = {};\n      for (var j = 0; j < xml.attributes.length; j++) {\n        var attribute = xml.attributes.item(j);\n        obj[\"@attributes\"][attribute.nodeName] = attribute.nodeValue;\n      }\n    }\n  } else if (xml.nodeType == 3) {\n    obj = xml.nodeValue;\n  }\n\n  var textNodes = [].slice.call(xml.childNodes).filter(function(node) {\n    return node.nodeType === 3;\n  });\n  if (xml.hasChildNodes() && xml.childNodes.length === textNodes.length) {\n    obj = [].slice.call(xml.childNodes).reduce(function(text, node) {\n      return text + node.nodeValue;\n    }, \"\");\n  } else if (xml.hasChildNodes()) {\n    for (var i = 0; i < xml.childNodes.length; i++) {\n      var item = xml.childNodes.item(i);\n      var nodeName = item.nodeName;\n      if (typeof obj[nodeName] == \"undefined\") {\n        obj[nodeName] = xmlToJson(item);\n      } else {\n        if (typeof obj[nodeName].push == \"undefined\") {\n          var old = obj[nodeName];\n          obj[nodeName] = [];\n          obj[nodeName].push(old);\n        }\n        obj[nodeName].push(xmlToJson(item));\n      }\n    }\n  }\n  return obj;\n}\n\n\nexport function randomString(length) {\n  const randomInt = (min = 0, max = 1) => Math.floor(Math.random() * (Math.floor(max) - Math.ceil(min)) + min);\n  return Array.from({ length: length }).map(() => CHARS[randomInt(0, CHARS.length)]).join('');\n}\n\nexport async function uploadFiles(fileData) {\n  const dataArray = {};\n  for (const file of fileData) {\n    console.log(file);\n    readFile(file.data);\n    //dataArray[file.year] = await parseFile(file.data);\n  }\n  return dataArray;\n}\n\nexport default {\n  uploadFiles,\n  randomString,\n  xmlToJson\n}","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Avatar, AutoComplete, Button, Input, List, Tag, Typography } from 'antd';\n\nimport { StarFilled as Star } from '@ant-design/icons';\nimport BookAPI from '../api/bookapi';\nimport { xmlToJson } from '../api/utils';\n\nconst { Text } = Typography;\n\nconst Item = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .anticon {\n        color: #FFC440;\n    }\n\n    .ant-typography {\n        margin: 10px;\n    }\n\n    .\n`;\n\nfunction ListItem(url, rating, label, year) {\n    return (\n        <Item>\n            <div>\n                <Avatar src={url} />\n                <Text>{label}</Text>\n                <Text>{year}</Text>\n            </div>\n            <div>\n                <Text>{rating}</Text>\n                <Star/>\n            </div>\n        </Item>\n    )\n    \n}\n\nvar globalTimeout = null;  \nvar tempList = {};  \n\nfunction AddForm({data, onSubmit}) {\n    const [currentSearch, updateSearch] = useState('');\n    const [results, updateResults] = useState([]);\n    const [selectedItems, selectItems] = useState([]);\n\n    useEffect(() => {\n        if (globalTimeout != null) {\n            clearTimeout(globalTimeout);\n          }\n          globalTimeout = setTimeout(function() {\n            globalTimeout = null;\n            if (currentSearch !== '') {\n                fetchData(currentSearch);\n            }\n          }, 200);\n    }, [currentSearch])\n    \n    function makeListItem(object) {\n        const { id, author, small_image_url, title, average_rating} = object.best_book;\n        const year = object.original_publication_year;\n\n        const label = `${title} - ${author.name}`;\n        const labelYear = !year.nil ? `(${year})` : '';\n\n        tempList[id] = { ...object.best_book, year, label };\n\n        return {\n            value: id,\n            label: ListItem(small_image_url, average_rating, label, labelYear)\n        }\n    }\n    async function fetchData(search) {\n        try {\n            const res = await BookAPI.search(search);\n            var xml = new DOMParser().parseFromString(res, 'text/xml');\n            const results = await xmlToJson(xml);\n            const items = results.GoodreadsResponse.search.results.work.map(makeListItem);\n            updateResults(items);\n        } catch(err) {\n            console.log(err);\n            updateResults([]);\n        }\n    }\n\n    function selectItem(val) {\n        if ((data && !data.val) || !selectedItems.includes(val)) {\n            const updated = selectedItems.concat(val);\n            selectItems(updated);\n            updateSearch('');\n        } else {\n            console.log(\"already selected\");\n        }\n    }\n\n    function unselectItem() {\n        const val = this;\n        selectItems(selectedItems.filter(i => i!== val));\n        updateSearch('');\n    }\n\n    function onFinish() {\n        onSubmit(selectedItems.map(val => tempList[val]));\n    }\n    \n    return (\n        <>\n        <AutoComplete open={currentSearch} options={results} onChange={updateSearch} onSelect={selectItem} notFoundContent=\"No results\">\n            <Input.Search size=\"large\" placeholder=\"Search books...\" />\n        </AutoComplete>\n        <div>\n            {selectedItems.map(id => (\n                <Tag closable onClose={unselectItem.bind(id)}>{tempList[id].label}</Tag>\n            ))}\n        </div>\n        <Button onClick={onFinish}>\n            Add Books\n        </Button>\n        </>\n    )\n};\n\nexport default AddForm;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { AutoComplete, Button, Layout, Space, Tabs, Tooltip, Typography } from 'antd';\nimport { \n  PlusOutlined as AddIcon,\n  ArrowLeftOutlined as BackIcon, \n  SettingOutlined as ConfigureIcon,\n  EditOutlined as EditIcon,\n  CloseOutlined as ExitIcon,\n  UploadOutlined as UploadIcon } from '@ant-design/icons';\nimport firebase from '../firebase';\nimport DataTable from './Table';\nimport FileUpload from './FileUpload';\nimport AddData from './AddTab';\nconst { TabPane } = Tabs;\n\nconst Page = styled.div`\n  background-color: #fffafa;\n  height: 100%;\n  padding: 10px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .toolbar {\n    width: 100%;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n  }\n\n  .ant-tabs-tabpane {\n    height: 100%;\n    padding: 10px;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n`;\n\nfunction ActionButton({action, icon}) {\n  return (\n    <Button icon={icon} onClick={action} shape=\"circle\" type=\"primary\"/>\n  );\n}\n\nconst defaultPage = \"default\";\n\nfunction Main() {\n  const data = [];\n  const [pageState, setPageState] = useState(\"add\");\n  const [editing, updateEditingState] = useState(false);\n  function updatePageState() {\n    updateEditingState(this === \"edit\");\n    setPageState(this || defaultPage);\n  }\n\n  function addData(itemsToAdd) {\n    firebase.add(itemsToAdd);\n    setPageState(defaultPage);\n  }\n\n  const items = {\n    \"add\": <AddIcon/>,\n    \"edit\": <EditIcon/>,\n    \"upload\": <UploadIcon/>,\n    \"configure\": <ConfigureIcon/>\n  };\n\n\n\n  return (\n    <Page className=\"page\">\n      <Space className=\"toolbar\" size=\"large\">\n          <Space>\n          {Object.keys(items).map(key => (\n            <Tooltip key={key} position=\"bottom\" title={key}>\n              <ActionButton action={updatePageState.bind(key)} icon={items[key]}/>\n            </Tooltip>\n          ))}\n        </Space>\n        {pageState !== \"default\" && <ActionButton action={updatePageState.bind(defaultPage)} icon={editing ? <ExitIcon/> : <BackIcon/>}/>}\n      </Space>\n      <Tabs activeKey={pageState} animate={true}>\n        <TabPane key={defaultPage}>\n          <DataTable data={data} editable={editing}/>\n        </TabPane>\n        <TabPane key=\"add\">\n          <AddData data={data} onSubmit={addData}/>\n        </TabPane>\n        <TabPane key=\"upload\">\n          <div>Hello</div>\n        </TabPane>\n        <TabPane key=\"configure\">\n          <FileUpload/>\n        </TabPane>\n      </Tabs>\n    </Page>\n  );\n}\n\nexport default Main;","import React, { useState } from 'react';\nimport { Avatar, Drawer, Dropdown, Menu, Space } from 'antd';\nimport styled from 'styled-components';\n\nimport { UserOutlined } from '@ant-design/icons';\n\nconst SideMenuButton = styled.div`\n    width: 50px;\n    cursor: pointer;\n    text-align: center;\n`;\n\nfunction SideMenu({onLogout}) {\n    const [isOpen, openPanel] = useState(false);\n    const togglePanel = () => openPanel(!isOpen);\n    \n    const options = (\n        <Menu theme=\"dark\">\n            <Menu.Item key=\"change password\" onClick={togglePanel}>Change Password</Menu.Item>\n            <Menu.Item key=\"logout\" onClick={onLogout}>Logout</Menu.Item>\n        </Menu>\n    );\n        console.log(isOpen)\n    return (\n        <>\n    <Dropdown className=\"dropdown\" overlay={options} placement=\"bottomCenter\" trigger={[\"click\"]}>\n        <SideMenuButton>\n            <Avatar icon={<UserOutlined/>}/>\n        </SideMenuButton>\n    </Dropdown>\n        <Drawer width=\"30%\" onClose={togglePanel} visible={isOpen}>\n            <p>Hello</p>\n        </Drawer>\n    </>\n    );\n}\n\nexport default SideMenu;","import React, { useState } from 'react';\nimport { Layout, Menu,  PageHeader } from 'antd';\nimport { LoginPage, MainPage, SideMenu } from './components';\nimport firebase from './firebase';\nimport 'antd/dist/antd.css';\nimport \"./app.css\";\n\nfunction Page({ pageContent, title }) {\n  return (\n    <Layout.Content className=\"container\">\n      <PageHeader>{title}</PageHeader>\n      {pageContent}\n    </Layout.Content>\n  )\n}\n\nconst pages = {\n  'main': {\n    label: \"List View\",\n    content: <Page title=\"Your Book List\" pageContent={<MainPage/>}/>\n  },\n  'data': {\n    label: \"Charts\",\n    content: <Page title=\"Data Visualizations\" pageContent={<div>Hello</div>}/>\n  }\n};\n\nfunction Navbar({ onLogout, setPage }) {\n  return (\n    <Layout.Header>\n      <Menu onClick={e => setPage(e.key)} mode=\"horizontal\" theme=\"dark\">\n        {Object.keys(pages).map(pid => (\n          <Menu.Item key={pid}>{pages[pid].label}</Menu.Item>\n        ))}\n      </Menu>\n      <SideMenu onLogout={onLogout} />\n    </Layout.Header>\n  );\n}\n\nconst email = 'rjbol94@gmail.com';\n\nfunction App() {\n  const [auth, setAuth] = useState(firebase.isAuthorized() || true);\n  const [currentPage, updatePage] = useState('main');\n  const[error, setError] = useState('');\n\n  async function handleAuthChange({ password }) {\n    try {\n      if (!auth) {\n        await firebase.login(email, password)\n      } else {\n        await firebase.logout();\n      }\n      setAuth(!auth);\n    } catch (err) {\n      this(err.message);\n    }\n  }\n\n  return (\n    <Layout>\n      {auth ?\n      <>\n        <Navbar setPage={updatePage} onLogout={handleAuthChange.bind(setError)}/>\n        {pages[currentPage].content}\n      </>\n      :\n      <Layout.Content>\n        <LoginPage onLogin={handleAuthChange}/>\n      </Layout.Content>\n      }\n      <Layout.Footer>©2020 Created by Rebecca Bol</Layout.Footer>\n    </Layout>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}