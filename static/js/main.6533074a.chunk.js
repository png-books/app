(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{254:function(e,t,a){e.exports=a(427)},421:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),o=a(49),i=a.n(o),u=a(84),s=a(42),d=a(430),m=a(435),f=a(72),p=a(65),b=a(433),h=a(436),E=a(438),g=a(232),v=a(432),y=a(437),k=a(71),j=a(441),O=a(59);function w(){var e=Object(p.a)(["\n    border-radius: 10px;\n    text-align: center;\n\n    .tooltip {\n        color: blue;\n        cursor: pointer;\n    }\n"]);return w=function(){return e},e}var x=b.a.Paragraph,C=b.a.Text,S=b.a.Title,I=Object(O.a)(h.a)(w());var N=function(e){var t=e.onLogin,a=Object(n.useState)(""),l=Object(s.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),d=u[0],m=u[1],f=t.bind(o),p=r.a.createElement(x,null,"Hello");return r.a.createElement(I,{bordered:!1},r.a.createElement(E.b,{align:"center",direction:"vertical",size:"middle"},r.a.createElement(S,null,"Welcome"),r.a.createElement("br",null),r.a.createElement(x,null,"This app was designed for",r.a.createElement(g.a,{placement:"top",content:p},r.a.createElement(C,{className:"tooltip"}," Seth"))),r.a.createElement(C,null,"If this isn't you, feel free to click away."),r.a.createElement(v.a,{onFinish:f},r.a.createElement(v.a.Item,{name:"password",onChange:function(e){e.target.value.length&&m(!0),o("")}},r.a.createElement(y.a.Password,{prefix:r.a.createElement(j.a,null)})),r.a.createElement(v.a.Item,null,r.a.createElement(k.a,{disabled:!d,htmlType:"submit"},"Enter"))),r.a.createElement(x,{type:"danger"},c)))},A=a(165),F=a(74),T=a(446),L=a(447),z=a(442),P=a(448),Y=a(449),_=a(450),B=a(141),D=a(142),V=a(148),H=a.n(V),M=(a(379),a(381),{apiKey:"AIzaSyDzjkTwCVZfga6MAl6aEKCflt8uojtkfNk",authDomain:"".concat("book-app-3ee9d",".firebaseapp.com"),databaseURL:"https://".concat("book-app-3ee9d",".firebaseio.com"),projectId:"book-app-3ee9d",storageBucket:"".concat("book-app-3ee9d",".appspot.com")}),U=new(function(){function e(){Object(B.a)(this,e),H.a.initializeApp(M),this.auth=H.a.auth(),this.db=H.a.database()}return Object(D.a)(e,[{key:"isAuthorized",value:function(){return this.auth.currentUser||!1}},{key:"login",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"add",value:function(e){return console.log(e),this.db.ref("/data/"+this.auth.currentUser.userId).set({books:e})}}]),e}()),K=a(431),R=(a(426),function(e,t){return t.author.startsWith(e)});var W=function(e){var t=e.data,a=[{title:"Author",dataIndex:"author",onFilter:R},{title:"Title",dataIndex:"title",onFilter:R},{title:"Genre",dataIndex:"genre"},{title:"Year Last Read",dataIndex:"last-year"}];return r.a.createElement(K.a,{dataSource:t,columns:a})},G=a(70),J=a(77),Z=a(439),q=a(103),Q=a(428),X=a(443),$=a(444);function ee(){var e=Object(p.a)(["\n    background-color: white;\n    width: 50%;\n\n    input {\n        display: none;\n    }\n\n    .year-select {\n        min-width: 25%;\n    }\n\n    .year-select * {\n        cursor: pointer;\n    }\n"]);return ee=function(){return e},e}var te=O.a.div(ee()),ae=(new Date).getFullYear(),ne=Array.from({length:50},(function(e,t){var a=ae-t;return r.a.createElement(J.a.Option,{key:a,value:a},a)})),re=function(){function e(t){Object(B.a)(this,e),this.data=t,this.name=t.name,this.updateYear=this.updateYear.bind(this)}return Object(D.a)(e,[{key:"updateYear",value:function(e){this.year=e}}]),e}();var le=function(e){var t=e.isLoading,a=e.onUpload,l=e.testData,c=Object(n.useState)(),o=Object(s.a)(c,2),i=(o[0],o[1],Object(n.useState)(!1)),u=Object(s.a)(i,2),d=(u[0],u[1],Object(n.useState)([])),m=Object(s.a)(d,2),f=m[0],p=m[1];return r.a.createElement(te,null,r.a.createElement("label",{className:"ant-btn"},r.a.createElement(z.a,null),"Select File(s)",r.a.createElement("input",{id:"file-upload",multiple:!0,onChange:function(e){var t,a=[],n=Object(G.a)(e.target.files);try{var r=function(){var e=t.value,n=new re(e);f.find((function(e){return e===n}))||a.push(n)};for(n.s();!(t=n.n()).done;)r()}catch(l){n.e(l)}finally{n.f()}p(f.concat(a))},type:"file"})),r.a.createElement(Z.b,{dataSource:f,renderItem:function(e){return r.a.createElement(q.a,{align:"middle"},r.a.createElement("p",null,e.name),r.a.createElement(J.a,{allowClear:!0,className:"year-select",onChange:e.updateYear,value:e.year},ne),r.a.createElement(X.a,{onClick:function(){return function(e){p(f.filter((function(t){return t!==e})))}(e)}}))}}),r.a.createElement(k.a,{disabled:!f.length,onClick:function(){return a(f)}},"Upload"),r.a.createElement("br",null),r.a.createElement("br",null),t&&r.a.createElement($.a,{spin:!0,style:{color:"black"}}),l&&r.a.createElement(Z.b,{dataSource:Object.keys(l),renderItem:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,null,e||"None"),r.a.createElement(Z.b,{dataSource:l[e],renderItem:function(e){return r.a.createElement("p",null,e)}}))}}))},ce=a(115),oe=a(230),ie=a(429),ue=a(440),se=a(445),de=a(223),me=a.n(de),fe={"Access-Control-Allow-Origin":"http://localhost:3000"},pe={key:"".concat("xM3j4IKZsoAjp6aBGYJrA"),secret:"".concat("XSzroA5v3hMQsCettyW6aryZIpgdqldhjijloIyTAo")};function be(e,t){return me.a.get("https://cors-anywhere.herokuapp.com/https://goodreads.com/"+e,{params:Object(ce.a)({key:pe.key},t),headers:fe}).then((function(e){return e.data})).then((function(e){return e}))}var he={search:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title";return be(this,{q:e,search:t})}.bind("search/")};function Ee(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var a=0;a<e.attributes.length;a++){var n=e.attributes.item(a);t["@attributes"][n.nodeName]=n.nodeValue}}}else 3==e.nodeType&&(t=e.nodeValue);var r=[].slice.call(e.childNodes).filter((function(e){return 3===e.nodeType}));if(e.hasChildNodes()&&e.childNodes.length===r.length)t=[].slice.call(e.childNodes).reduce((function(e,t){return e+t.nodeValue}),"");else if(e.hasChildNodes())for(var l=0;l<e.childNodes.length;l++){var c=e.childNodes.item(l),o=c.nodeName;if("undefined"==typeof t[o])t[o]=Ee(c);else{if("undefined"==typeof t[o].push){var i=t[o];t[o]=[],t[o].push(i)}t[o].push(Ee(c))}}return t}function ge(){var e=Object(p.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .anticon {\n        color: #FFC440;\n    }\n\n    .ant-typography {\n        margin: 10px;\n    }\n\n    .\n"]);return ge=function(){return e},e}var ve=b.a.Text,ye=O.a.div(ge());function ke(e,t,a,n){return r.a.createElement(ye,null,r.a.createElement("div",null,r.a.createElement(oe.a,{src:e}),r.a.createElement(ve,null,a),r.a.createElement(ve,null,n)),r.a.createElement("div",null,r.a.createElement(ve,null,t),r.a.createElement(se.a,null)))}var je=null,Oe={};var we=function(e){var t=e.data,a=e.onSubmit,l=Object(n.useState)(""),c=Object(s.a)(l,2),o=c[0],d=c[1],m=Object(n.useState)([]),f=Object(s.a)(m,2),p=f[0],b=f[1],h=Object(n.useState)([]),E=Object(s.a)(h,2),g=E[0],v=E[1];function j(e){var t=e.best_book,a=t.id,n=t.author,r=t.small_image_url,l=t.title,c=t.average_rating,o=e.original_publication_year,i="".concat(l," - ").concat(n.name),u=o.nil?"":"(".concat(o,")");return Oe[a]=Object(ce.a)(Object(ce.a)({},e.best_book),{},{year:o,label:i}),{value:a,label:ke(r,c,i,u)}}function O(){return(O=Object(u.a)(i.a.mark((function e(t){var a,n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.search(t);case 3:return a=e.sent,n=(new DOMParser).parseFromString(a,"text/xml"),e.next=7,Ee(n);case 7:r=e.sent,l=r.GoodreadsResponse.search.results.work.map(j),b(l),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),b([]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function w(){var e=this;v(g.filter((function(t){return t!==e}))),d("")}return Object(n.useEffect)((function(){null!=je&&clearTimeout(je),je=setTimeout((function(){je=null,""!==o&&function(e){O.apply(this,arguments)}(o)}),200)}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{open:o,options:p,onChange:d,onSelect:function(e){if(t&&!t.val||!g.includes(e)){var a=g.concat(e);v(a),d("")}else console.log("already selected")},notFoundContent:"No results"},r.a.createElement(y.a.Search,{size:"large",placeholder:"Search books..."})),r.a.createElement("div",null,g.map((function(e){return r.a.createElement(ue.a,{closable:!0,onClose:w.bind(e)},Oe[e].label)}))),r.a.createElement(k.a,{onClick:function(){a(g.map((function(e){return Oe[e]})))}},"Add Books"))};function xe(){var e=Object(p.a)(["\n  background-color: #fffafa;\n  height: 100%;\n  padding: 10px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n\n  .toolbar {\n    width: 100%;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n  }\n\n  .ant-tabs-tabpane {\n    height: 100%;\n    padding: 10px;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n"]);return xe=function(){return e},e}var Ce=A.a.TabPane,Se=O.a.div(xe());function Ie(e){var t=e.action,a=e.icon;return r.a.createElement(k.a,{icon:a,onClick:t,shape:"circle",type:"primary"})}var Ne=function(){var e=[],t=Object(n.useState)("add"),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),u=i[0],d=i[1];function m(){d("edit"===this),c(this||"default")}var f={add:r.a.createElement(T.a,null),edit:r.a.createElement(L.a,null),upload:r.a.createElement(z.a,null),configure:r.a.createElement(P.a,null)};return r.a.createElement(Se,{className:"page"},r.a.createElement(E.b,{className:"toolbar",size:"large"},r.a.createElement(E.b,null,Object.keys(f).map((function(e){return r.a.createElement(F.a,{key:e,position:"bottom",title:e},r.a.createElement(Ie,{action:m.bind(e),icon:f[e]}))}))),"default"!==l&&r.a.createElement(Ie,{action:m.bind("default"),icon:u?r.a.createElement(Y.a,null):r.a.createElement(_.a,null)})),r.a.createElement(A.a,{activeKey:l,animate:!0},r.a.createElement(Ce,{key:"default"},r.a.createElement(W,{data:e,editable:u})),r.a.createElement(Ce,{key:"add"},r.a.createElement(we,{data:e,onSubmit:function(e){U.add(e),c("default")}})),r.a.createElement(Ce,{key:"upload"},r.a.createElement("div",null,"Hello")),r.a.createElement(Ce,{key:"configure"},r.a.createElement(le,null))))},Ae=a(143),Fe=a(434),Te=a(451);function Le(){var e=Object(p.a)(["\n    width: 50px;\n    cursor: pointer;\n    text-align: center;\n"]);return Le=function(){return e},e}var ze=O.a.div(Le());var Pe=function(e){var t=e.onLogout,a=Object(n.useState)(!1),l=Object(s.a)(a,2),c=l[0],o=l[1],i=function(){return o(!c)},u=r.a.createElement(f.a,{theme:"dark"},r.a.createElement(f.a.Item,{key:"change password",onClick:i},"Change Password"),r.a.createElement(f.a.Item,{key:"logout",onClick:t},"Logout"));return console.log(c),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,{className:"dropdown",overlay:u,placement:"bottomCenter",trigger:["click"]},r.a.createElement(ze,null,r.a.createElement(oe.a,{icon:r.a.createElement(Te.a,null)}))),r.a.createElement(Fe.a,{width:"30%",onClose:i,visible:c},r.a.createElement("p",null,"Hello")))};a(420),a(421);function Ye(e){var t=e.pageContent,a=e.title;return r.a.createElement(d.a.Content,{className:"container"},r.a.createElement(m.a,null,a),t)}var _e={main:{label:"List View",content:r.a.createElement(Ye,{title:"Your Book List",pageContent:r.a.createElement(Ne,null)})},data:{label:"Charts",content:r.a.createElement(Ye,{title:"Data Visualizations",pageContent:r.a.createElement("div",null,"Hello")})}};function Be(e){var t=e.onLogout,a=e.setPage;return r.a.createElement(d.a.Header,null,r.a.createElement(f.a,{onClick:function(e){return a(e.key)},mode:"horizontal",theme:"dark"},Object.keys(_e).map((function(e){return r.a.createElement(f.a.Item,{key:e},_e[e].label)}))),r.a.createElement(Pe,{onLogout:t}))}var De="rjbol94@gmail.com";var Ve=function(){var e=Object(n.useState)(U.isAuthorized()||!0),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)("main"),o=Object(s.a)(c,2),m=o[0],f=o[1],p=Object(n.useState)(""),b=Object(s.a)(p,2),h=(b[0],b[1]);function E(e){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.password,e.prev=1,a){e.next=7;break}return e.next=5,U.login(De,n);case 5:e.next=9;break;case 7:return e.next=9,U.logout();case 9:l(!a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this(e.t0.message);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})))).apply(this,arguments)}return r.a.createElement(d.a,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{setPage:f,onLogout:E.bind(h)}),_e[m].content):r.a.createElement(d.a.Content,null,r.a.createElement(N,{onLogin:E})),r.a.createElement(d.a.Footer,null,"\xa92020 Created by Rebecca Bol"))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ve,null)),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.6533074a.chunk.js.map